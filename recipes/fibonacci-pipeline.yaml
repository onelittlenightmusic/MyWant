recipe:
  # Recipe metadata - defines this as a custom target type
  metadata:
    name: "Fibonacci Pipeline"
    description: "Fibonacci number generation and processing pipeline"
    custom_type: "fibonacci pipeline"
    category: "mathematics"
    version: "1.0.0"

  # Recipe parameters - these are the configurable values
  parameters:
    prefix: "fibonacci"
    max_number: 100
    delay: 0.5

  # Parameter descriptions - explain what each parameter does
  parameter_descriptions:
    prefix: "Prefix used for naming wants in the generated deployment"
    max_number: "Maximum fibonacci number to generate in the sequence"
    delay: "Delay in seconds between generating fibonacci numbers"

  wants:
    # Fibonacci Generator
    - type: fibonacci generator
      params:
        max_number: max_number
        delay: delay

    # Fibonacci Sink
    - type: fibonacci sink
      params:
        display_format: "Fibonacci: %d"
      using:
        - category: fibonacci-producer
  result:
    - want_name: "fibonacci generator"
      stat_name: ".total_processed"
      description: "Total fibonacci numbers generated"

  # Example deployment - one-click deployment configuration
  example:
    wants:
      - metadata:
          name: "fibonacci-pipeline-demo"
          type: "fibonacci pipeline"
          labels:
            recipe: "Fibonacci Pipeline"
        spec:
          params: {}
