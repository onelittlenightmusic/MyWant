recipe:
  # Recipe metadata - defines this as a custom target type with agent integration
  metadata:
    name: "Dynamic Travel Change"
    description: "Travel planning system with dynamic schedule changes and flight booking"
    custom_type: "dynamic travel change"
    version: "1.0.0"

  # Recipe parameters - these are the configurable values
  parameters:
    prefix: "travel"
    display_name: "Dynamic Travel Itinerary"
    flight_type: "business class"
    restaurant_type: "fine dining"
    hotel_type: "luxury"
    buffet_type: "international"
    dinner_duration: 2.0
    flight_duration: 12.0

  wants:
    # Flight booking - first in the travel schedule
    - metadata:
        type: flight
        labels:
          role: scheduler
      spec:
        params:
          flight_type: flight_type
          duration_hours: flight_duration
        requires:
          - flight_booking

    # Dinner restaurant reservation
    - metadata:
        type: restaurant
        labels:
          role: scheduler
      spec:
        params:
          restaurant_type: restaurant_type
          duration_hours: dinner_duration

    # Hotel accommodation booking with agent support
    - metadata:
        type: hotel
        labels:
          role: scheduler
      spec:
        params:
          hotel_type: hotel_type
        requires:
          - hotel_reservation

    # Morning breakfast buffet
    - metadata:
        type: buffet
        labels:
          role: scheduler
      spec:
        params:
          buffet_type: buffet_type

    # Travel coordinator that combines all schedules
    - metadata:
        type: travel_coordinator
      spec:
        params:
          display_name: display_name
        using:
          - role: scheduler

  # Recipe result definition - specifies how to compute travel planning results
  result:
    - want_name: "travel_coordinator"
      stat_name: ".total_processed"
      description: "Total travel bookings coordinated"
    - want_name: "flight"
      stat_name: ".total_processed"
      description: "Flight bookings completed"
    - want_name: "restaurant"
      stat_name: ".total_processed"
      description: "Restaurant reservations completed"
    - want_name: "hotel"
      stat_name: ".total_processed"
      description: "Hotel bookings completed"
    - want_name: "buffet"
      stat_name: ".total_processed"
      description: "Buffet reservations completed"