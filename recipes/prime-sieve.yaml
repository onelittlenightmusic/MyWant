recipe:
  # Recipe metadata - defines this as a custom target type
  metadata:
    name: "Prime Sieve"
    description: "Prime number generation and filtering pipeline"
    custom_type: "prime sieve"
    category: "mathematics"
    version: "1.0.0"

  # Recipe parameters - these are the configurable values
  parameters:
    prefix: "prime"
    display_name: "Prime Number Sieve"
    start_number: 1
    end_number: 100

  # Parameter descriptions - explain what each parameter does
  parameter_descriptions:
    prefix: "Prefix used for naming wants in the generated deployment"
    display_name: "Display name for the recipe instance"
    start_number: "Starting number for the range to search for primes"
    end_number: "Ending number for the range to search for primes"

  wants:
    # Prime number generator - generates consecutive numbers
    - type: prime numbers
      labels:
        role: generator
        component: source
      params:
        start: start_number
        end: end_number

    # Prime sequence - filters out non-prime numbers using sieve algorithm  
    - type: prime sequence
      labels:
        role: filter
        component: processor
      params: {}
      using:
        - role: generator

  # Recipe result definition - specifies how to compute prime sieve results
  result:
    - want_name: "prime sequence"
      stat_name: ".foundPrimes"
      description: "List of prime numbers found"
    - want_name: "prime sequence"
      stat_name: ".primeCount"
      description: "Count of prime numbers found"
  # Example deployment - one-click deployment configuration
  example:
    wants:
      - metadata:
          name: "prime-sieve-demo"
          type: "prime sieve"
          labels:
            recipe: "Prime Sieve"
        spec:
          params: {}
