wantType:
  metadata:
    name: restaurant
    title: Restaurant Reservation
    description: Handles restaurant reservations and bookings.
    version: '1.0'
    category: travel
    pattern: independent
  finalResultField: reservation_name
  parameters:
  - name: restaurant_type
    description: Type of restaurant cuisine or service style
    type: string
    default: fine dining
    required: false
    validation:
      enum:
      - fine dining
      - casual
      - buffet
      - fast food
      - seafood
      - steakhouse
      - vegan
    example: fine dining
  - name: party_size
    description: Number of people in the party
    type: int
    default: 2
    required: false
    validation:
      min: 1
      max: 20
    example: 4
  - name: preferred_time
    description: Preferred booking time in HH:MM 24-hour format
    type: string
    default: '19:00'
    required: false
    validation:
      pattern: ^([0-1][0-9]|2[0-3]):[0-5][0-9]$
    example: '19:30'
  - name: cuisine
    description: Preferred cuisine type
    type: string
    default: international
    required: false
    validation:
      enum:
      - italian
      - french
      - japanese
      - spanish
      - thai
      - chinese
      - indian
      - international
      - fusion
    example: french
  - name: budget
    description: Budget level for restaurant selection
    type: string
    default: moderate
    required: false
    validation:
      enum:
      - budget
      - moderate
      - expensive
      - luxury
  - name: cost
    description: Estimated or actual cost of the restaurant
    type: float64
    default: 0.0
    required: false
    example: 150.0
  state:
  - name: completed
    description: Whether reservation has been completed
    type: bool
    persistent: true
    example: true
    initialValue: false
  - name: cost
    description: Reported cost for this reservation
    type: float64
    persistent: true
    example: 150.0
    initialValue: 0.0
  - name: total_processed
    description: Count of successful reservations
    type: int
    persistent: true
    example: 1
    initialValue: 0
  - name: reservation_type
    description: Type of restaurant reserved
    type: string
    persistent: true
    example: fine dining
    initialValue: ''
  - name: reservation_start_time
    description: Reservation start time in HH:MM format
    type: string
    persistent: true
    example: '19:30'
    initialValue: ''
  - name: reservation_end_time
    description: Reservation end time in HH:MM format
    type: string
    persistent: true
    example: '21:30'
    initialValue: ''
  - name: reservation_duration_hours
    description: Duration of reservation in hours
    type: float64
    persistent: true
    example: 2.0
    initialValue: 0.0
  - name: reservation_name
    description: Human-readable name of the reservation
    type: string
    persistent: true
    example: The French Laundry - Party of 2 at fine dining restaurant
    initialValue: ''
  - name: schedule_date
    description: Date of the reservation in YYYY-MM-DD format
    type: string
    persistent: true
    example: '2024-01-15'
    initialValue: ''
  - name: achieving_percentage
    description: Progress percentage toward completion
    type: int
    persistent: true
    example: 100
    initialValue: 0
  - name: final_result
    description: Final result summary
    type: string
    persistent: true
    example: The French Laundry - Party of 2 at fine dining restaurant
    initialValue: ''
  - name: execution_source
    description: Source of execution (monitor or agent)
    type: string
    persistent: true
    example: agent
    initialValue: ''
  - name: premium_processed
    description: Whether premium features were applied
    type: bool
    persistent: true
    example: false
    initialValue: false
  - name: premium_level
    description: Premium tier if applicable
    type: string
    persistent: true
    example: platinum
    initialValue: ''
  - name: service_tier
    description: Service tier selected
    type: string
    persistent: true
    example: concierge
    initialValue: ''
  - name: premium_amenities
    description: Array of premium amenities included
    type: '[]string'
    persistent: true
    example:
    - priority seating
    - sommelier service
    initialValue: []
  - name: agent_execution_status
    description: Status of agent execution (completed, failed, pending)
    type: string
    persistent: true
    example: completed
    initialValue: ''
  - name: agent_execution_error
    description: Error message if agent execution failed
    type: string
    persistent: true
    initialValue: ''
  agents:
  - name: MonitorRestaurant
    role: monitor
    description: Loads existing restaurant data from YAML files (restaurant0.yaml,
      restaurant1.yaml)
    example: Checks local state files before booking new reservation
  - name: AgentRestaurant
    role: action
    description: Finds available restaurants and creates reservation if none exists
    example: Called after MonitorRestaurant if no existing reservation found
  constraints:
  - description: Party size within restaurant typical capacity
    validation: party_size >= 1 and party_size <= 20
  - description: Preferred time within common dining service hours
    validation: preferred_time >= '06:00' and preferred_time <= '23:00'
  - description: Valid restaurant type for selection
    validation: restaurant_type in enum list
  examples:
  - name: Fine dining reservation
    description: Books upscale French restaurant for romantic dinner
    expectedBehavior: '1. MonitorRestaurant checks for existing reservation in local
      files

      2. If none found, AgentRestaurant searches for available fine dining options

      3. Books restaurant and stores reservation details in state

      '
    want:
      metadata:
        name: fine-dining-reservation
        type: restaurant
        labels: {}
      spec:
        params:
          restaurant_type: fine dining
          party_size: 2
          preferred_time: '19:30'
          cuisine: french
          budget: expensive
  - name: Casual family dinner
    description: Books casual restaurant for family gathering
    expectedBehavior: '1. Checks existing reservations

      2. Finds casual restaurant with family seating

      3. Books and confirms reservation

      '
    want:
      metadata:
        name: casual-family-dinner
        type: restaurant
        labels: {}
      spec:
        params:
          restaurant_type: casual
          party_size: 6
          preferred_time: '18:00'
          cuisine: international
          budget: moderate
  - name: Business lunch
    description: Quick business meal booking
    expectedBehavior: '1. Finds nearby steakhouse with lunch availability

      2. Books a 60-minute table slot

      '
    want:
      metadata:
        name: business-lunch
        type: restaurant
        labels: {}
      spec:
        params:
          restaurant_type: casual
          party_size: 4
          preferred_time: '12:30'
          cuisine: steakhouse
          budget: moderate
  - name: Buffet dining
    description: All-you-can-eat buffet booking
    expectedBehavior: '1. Finds buffet restaurant

      2. Books for group with flexible timing (buffets less time-sensitive)

      '
    want:
      metadata:
        name: buffet-dining
        type: restaurant
        labels: {}
      spec:
        params:
          restaurant_type: buffet
          party_size: 8
          preferred_time: '19:00'
          budget: budget
  relatedTypes:
  - hotel
  - buffet
  - flight
  - travel_coordinator
  seeAlso:
  - travel-itinerary recipe
  - travel domain agents
  - AgentRestaurant implementation
  - MonitorRestaurant implementation
  connect:
    type: none

  requires:
    - restaurant_agency
  thinkCapabilities:
    - condition_thinking
