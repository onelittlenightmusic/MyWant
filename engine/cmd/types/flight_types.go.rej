@@ -250,13 +250,15 @@
 	// Try rebooking immediately in this same cycle
 	f.tryAgentExecution()
 
 	// Check if rebooking created a new flight result (read from state, not return value)
-	agentResult, hasResult := f.GetState("agent_result")
-	if hasResult && agentResult != nil {
+	agentResult, hasResult := f.GetState("agent_result")
+	f.StoreLog(fmt.Sprintf("[REBOOKING] After tryAgentExecution: hasResult=%v, result=%v", hasResult, agentResult))
+	if hasResult && agentResult != nil {
+		f.StoreLog("[REBOOKING] Got agent_result, extracting flight schedule")
 		f.StoreLog("Rebooking agent execution completed, processing new flight result")
 
 		// Convert agent_result to FlightSchedule
-	agentSchedule := f.extractFlightSchedule(agentResult)
-	if agentSchedule != nil {
+		agentSchedule := f.extractFlightSchedule(agentResult)
+		if agentSchedule != nil {
 			// Use the agent's schedule result
 			f.SetSchedule(*agentSchedule)
